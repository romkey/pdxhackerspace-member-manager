<%# Members Profile View - what other logged-in members see %>
<div class="card shadow-sm border-0">
  <div class="card-body">
    <dl class="row mb-0">
      <dt class="col-sm-2 text-secondary">Username</dt>
      <dd class="col-sm-10 text-monospace text-secondary"><%= user.username.presence || content_tag(:span, "Not provided", class: "text-muted fst-italic") %></dd>

      <dt class="col-sm-2 text-secondary">Full name</dt>
      <dd class="col-sm-10"><%= user.full_name.presence || content_tag(:span, "Not provided", class: "text-muted fst-italic") %></dd>

      <% if user.bio.present? %>
        <dt class="col-sm-2 text-secondary">About</dt>
        <dd class="col-sm-10">
          <div class="small"><%= sanitize(user.bio, tags: %w[p br strong b em i u s ul ol li a h1 h2 h3 h4 h5 h6 span div], attributes: %w[href target style]) %></div>
        </dd>
      <% end %>

      <% if user.user_links.any? %>
        <dt class="col-sm-2 text-secondary">Links</dt>
        <dd class="col-sm-10">
          <div class="d-flex flex-wrap gap-2">
            <% user.user_links.ordered.each do |link| %>
              <a href="<%= link.url %>" target="_blank" rel="noopener" class="btn btn-sm btn-outline-secondary">
                <i class="bi <%= link.icon_class %> me-1"></i><%= link.title %>
              </a>
            <% end %>
          </div>
        </dd>
      <% end %>

      <dt class="col-sm-2 text-secondary">Trained on</dt>
      <dd class="col-sm-10">
        <% trained_topics = user.trainings_as_trainee.map(&:training_topic).uniq %>
        <% if trained_topics.any? %>
          <% trained_topics.each do |topic| %>
            <span class="badge text-bg-primary me-1 mb-1"><%= topic.name %></span>
          <% end %>
        <% else %>
          <span class="text-muted fst-italic">None recorded</span>
        <% end %>
      </dd>

      <dt class="col-sm-2 text-secondary">Can train</dt>
      <dd class="col-sm-10">
        <% if user.training_topics.any? %>
          <% user.training_topics.each do |topic| %>
            <span class="badge text-bg-success me-1 mb-1"><%= topic.name %></span>
          <% end %>
        <% else %>
          <span class="text-muted fst-italic">None</span>
        <% end %>
      </dd>
    </dl>
  </div>
</div>
